using HOTTGF;
using Game;
using HOTTUI.H.O.T.T.U.I;
using System.Security.Cryptography;
using HOTTUI.Menu;

internal class Test
{
    public static void Main(string[] args)
    {
        TileMap tileMap = new TileMap(100, 100, ';');
        char[,] map = new char[,]
            {
                {'#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#','#', '#', '#', },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#'},
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#'},
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '.', '#', '#', '#'},
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '.', '#','#', '.', '.', '.', '#', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '!', '#','#', '.', '/', '.', '#', '.', '.', '.', '#'},
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '.', '#','#', '.', '.', '.', '#', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', '#', '#', '#', '#', '.', '#','#', '#', '#', '#', '#', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', '#', '@', '.', '#', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', '#', '#', '#', '#', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ','#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#'},
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ','#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#','#', '.', '.', '.', '.', '.', '.', '.', '#' },
                {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}
            };
        Player player = new Player(2, 2);
        while (true)
        {
            List<char> list = new List<char>();
            list.Add('#');



            

            player.Draw(ConsoleColor.Blue);

            if (map[player.Y, player.X] == '!')
            {
                player.X += 3;
            }
            else if (map[player.Y, player.X] == '/')
            { 
                map[15, 20] = '|';
                map[17, 20] = '.';
                map[18, 15] = '.';
            }
            else if (map[player.Y, player.X] == '@')
            {
                Console.Clear();
                break;
            }

            for (int y = 0; y < map.GetLength(0); y++)
            {
                for (int x = 0; x < map.GetLength(1); x++)
                {
                    Console.SetCursorPosition(x, y);
                    Console.Write(map[y, x]);
                }
            }

            
            
            player.Draw(ConsoleColor.Blue);
            player.Update(map, list);
            
        }
        Tools.Color_Write(ConsoleColor.DarkGreen, "Congrats you have finish the level!");
    }
}
